<!DOCTYPE html>
<html>

<head>
    <title>Login Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        type="text/css" />
</head>

<body>
    <h2>Login Page</h2><br>
    <div class="login">
        <form id="login" method="get" action="login.php">
            <label><b>User Name</b></label>
            <input type="text" name="Uname" id="Uname" placeholder="Username">
            <br><br>
            <label><b>Password</b></label>
            <input type="Password" name="Pass" id="Pass" placeholder="Password">
            <br><br>
            <input type="button" name="log" id="log" value="Log In Here">
            <br><br>
        </form>
    </div>
</body>

<script>
    window.onload = () => {
        document.getElementById('log').addEventListener('click', () => {
            const username = document.getElementById('Uname').value;
            const password = document.getElementById('Pass').value;

            fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: {
                    username: username,
                    password: password
                }
            }).then(data => {
                if (data.success) {
                    window.location.href = 'http://34.228.143.112/';
                    return;
                } else {
                    alert("Login failure");
                }
            }).catch(() => alert('rejected'));
        });
    }
</script>

</html>
</body>

</html>